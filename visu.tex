\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[version=last, pagesize, twoside=off, bibliography=totoc, DIV=calc, fontsize=12pt, a4paper, french, english]{scrartcl}
\input{preamble/packages}
\input{preamble/math_basics}
\input{preamble/math_mine}
\input{preamble/redac}
\input{preamble/draw}

\begin{document}
\title{%
	\texorpdfstring{
		Visu blah%
		\thanks{
			This is a draft.
		}
	}{%
		Visu
	}
}
\author{Renaud Blanch}
\author{Sylvain Bouveret}
\affil{LIG}
\author{Olivier Cailloux}
\affil{Université Paris-Dauphine, PSL Research University, CNRS, LAMSADE, 75016 PARIS, FRANCE\\
	\href{mailto:olivier.cailloux@dauphine.fr}{olivier.cailloux@dauphine.fr}
}
\maketitle

\section{Introduction}
\label{sec:intro}
Voting rules are prominent objects used in social choice theory to aggregate preference information and obtain a societal choice.

Various rules treat the profile, the information given as input, differently, according to the transformations considered to not change the information \citep{sen_social_1986, sen_informational_1974, sen_weights_1977, blackorby_social_1984}.

\section{Profile and visual variables}
Here we indicate which information a profile contains and how this corresponds to visual variables.
We have then to relate this to visual variables.

We consider defined a set of alternatives $\allalts$ and a set of voters $\allvoters$. The preference of a voter $i \in \allvoters$ is represented by a linear order $\pref_i \subseteq \allalts × \allalts$ (a transitive, connected and antisymmetric binary relation) over all alternatives. The set of all linear orders is denoted by $\linors$, thus $\pref_i \in \linors$. A profile $\prof: \allvoters → \linors$ associates each voter to her preference. The set of all profiles is $\allprofs = \linors^\allvoters$. A voting rule $f: \allprofs → \powersetz{\allalts}$, where $\powersetz{S}$ denotes the set of all non empty subsets of $S$, associates to each profile a set of winners, a non-empty subset of the alternatives. Sets are used to tolerate ties.

\begin{figure}[t]
	\centering
	\begin{tikzpicture}
		\tikzset{prof matrix/.style={
			matrix, column sep=3mm, row sep=2mm
		}}
		\tikzset{rank-vector/.style={
			draw, rectangle, inner sep=0, outer sep=1mm
		}}
		
		\path node[prof matrix] (profile) {
			\path node {$R_1$};&
			\path node {$R_2$};
			\\
			\path node {$a$};&
			\path node {$a$};
			\\
			\path node {$b$};&
			\path node {$c$};
			\\
			\path node {$c$};&
			\path node {$b$};
			\\
		};
		\path[draw, decorate, decoration={brace, mirror}] (profile.south west) -- (profile.south east);
		\path ($(profile.south west)!.5!(profile.south east)$) ++ (0, -5mm) node {$\prof \in \linors^\allvoters$};
		
		\path (profile.north east) ++ (1.5cm, 0) node[prof matrix, anchor=north west] (rank-profile) {
			&
			\path node (header start) {1};&
			\path node (header end) {2};
			\\
			\path node (alts start) {$a$};&
			\path node (rv1 start) {1};&
			\path node (rv1 end) {1};
			\\
			\path node {$b$};&
			\path node (rv2 start) {2};&
			\path node (rv2 end) {3};
			\\
			\path node (alts end) {$c$};&
			\path node (rv3 start) {3};&
			\path node (rv3 end) {2};
			\\
		};
		\path node[draw, ellipse, dotted, inner sep=0, fit=(header start.north west) (header end.south east)] (N) {};
		\path (N.north) node[anchor=south, inner sep=1mm] {$\allvoters$};
		\path node[draw, ellipse, dotted, inner sep=0, fit=(alts start.north west) (alts end.south east)] (A) {};
		\path (A.west) node[anchor=east, inner sep=1mm] {$\allalts$};
		\path[draw, decorate, decoration={brace, mirror, raise=2mm}] (rank-profile.south west) -- (rank-profile.south east);
		\path ($(rank-profile.south west)!.5!(rank-profile.south east)$) ++ (0, -7mm) node {$\prof \in (\R^\allalts)^\allvoters$};
	\end{tikzpicture}
	\caption{A Profile and the corresponding Rank-Profile}
	\label{fig:rankprofile}
\end{figure}

The information contained in a profile can be viewed in various ways. For example, instead of displaying the linear orders below each voters, as is most classical, the profile may be viewed as a matrix which indicates, for each alternative and voter, the rank of the alternative in the ranking of the voter \citep{cailloux_eliciting_2014}. See \cref{fig:rankprofile}.
In general, we view a profile as an association of numbers to voters and alternatives: each voter is associated to a utility function $u_i: \allalts → \R$, which describes the “score” this voter gives to each alternative. Thus, we denote a profile by $\prof = \profdet$. (Abusing notation, we reuse the same letter $\prof$ to denote this alternative view of a profile and reuse the letter $\allprofs$ to denote the set of all profiles.)

Interestingly, depending on the purpose of the visualization, the informational content to be taken into account may change. In order to let the viewer focus on the relevant information, the informational content in the profile may be reduced. For example, if the focus is to explain the Condorcet property, it may be adequate to display only information necessary to deduce the majority graph. Or, when being interested in scoring rules, it may be desired to display only, for each alternative, the ranks it obtained, that is, a multi-set of ranks, neglecting the relation between the voters and the ranks. Conversely, in some cases, such as in the context of exemplifying a given voting rule, it may be desired to show more than the information contained in the profile. A prominent example is the one of scoring rules: when the scores to be used are known, what is to be aggregated may be viewed as the scores given by each voter to each alternative. In yet other cases, the information to be visualized is both poorer and richer (in different respects), as when showing, for each alternative, a multiset of scores with no individual link between the voters and the scores.

In this section we want to classify systematically visualization approaches depending on the informational content to be taken into account, in order to move towards being able to select an appropriate visualization in a principled way. To characterize informational content, we now define classes of equivalence in the set of profiles $\allprofs$. 

To start with, consider \emph{Ordinally Measurable, Noncomparable Utilities}: in this interpretation, two profiles are equivalent iff they describe the same orderings for each voter. Formally, a profile $\prof = \profdet[u_i]$ is considered equivalent to any profile $\prof' = \profdet[\phi_i(u_i)]$ where $\phi_i: \R^\allalts → \R^\allalts, i \in N$ are non-decreasing transformations of the utilities. When using this interpretation of the informational content of a profile, only the orderings represented by the utilities count. This is the classical input information considered for a voting rule, as described above.

One can also attribute more meaning to the numbers in the utility functions. In the \emph{Cardinally Measurable, Noncomparable Utilities} interpretation, the $\phi_i$ transformations must be of the form $\phi_i(u_i) = a_i + b_i u_i$ for some $a_i \in \R, b_i \in \R^+ = \R \cap (0, +\infty)$. The \emph{Cardinally Measurable, Fully Comparable Utilities} interpretation mandates that the $\phi_i$ transformation be of the form $\phi_i(u_i) = a + b u_i$ for some $a \in \R, b \in \R^+$, the same for all voters. In other words, it supplements the requirements of the previous interpretation by forcing equality of the transformations: $\phi_i = \phi_j \forall i, j \in \allvoters$. The \emph{Proportionally Measurable, Fully Comparable Utilities} interpretation \commentOC{We should decide whether we like that name.} allows only transformations of the form $\phi_i(u_i) = b u_i$, $b \in \R^+$. Other interpretations are defined by \citet{blackorby_social_1984}, from which we took these interpretations (to which we added the Proportionally Measurable interpretation).

TODO: relate to visualization variables. Possibly, talk about how to switch from one representation to another (matrix of ranks to, say, the scores). Decide whether we should introduce other kinds of interpretations (which is probably useful only if we can think about relevant visualizations). For example, we might need the \emph{Majority} interpretation, such that two profiles are considered equivalent iff they have the same majority graph.


\subsection{Graphic variables}
Giving a (possibly interactive) graphical representation to a data set is a way to make the information it contains more graspable to laymen, provided the representation is sound.
The design of such representations is studied by the Information Visualisation community.
A key step of the \emph{InfoVis Pipeline}~\citep{Chi-Riedl-1998} which transforms data into visualisations is the \emph{visual mapping}, i.e.\ the step that encodes \emph{data attributes} with \emph{graphic variables}.
For example, if each item of a data set is a person characterized by some attributes (age, genre, size, weight, etc.), we can encode a particular item with a graphic mark, and we may choose to represent the genre by its shape (e.g.\ square for men, circle for women), the weight by the abscissa, and the size by the ordinate.
The set of graphic variables that can be used without too much interference is rather small: \citet[][chap.~II.c]{bertin-graphique} gave one of the first practical list that includes 8 variables.
This list remains relevant today, even if it has been enriched latter to account for computer screens and animations~\citep[e.g.][chap.~5]{munzner}.

A key observation made by Bertin is that all graphic variables are not equal in term of expressiveness.
Some allow to judge wether two items are identical or not (e.g.\ they share the same shape), but others allow to tell wether one is bigger than the other, and even to quantify how much bigger it is (e.g.\ the abscissa of one mark is twice the abscissa of another one).
A variable is \emph{associative} ($\equiv$) if it allows to represent different levels without inducing a visual hierarchy between those levels.
A variable is \emph{selective} ($\neq$) if all items sharing a level (e.g.\ same color) can be perceived as a group and considered for inspection without the items of other levels interfering.
A variable is \emph{ordered} ($O$) if we can order two items according to this variable, without relying on a lookup to a legend.
Finally, a variable is \emph{quantitative} ($Q$) if we can quantify the difference between two items.

The two cartesian dimensions (when working in the plane) of the \emph{position} are two variables that are the most expressive: they support $\equiv$, $\neq$, $O$ and $Q$.
The \emph{size} of the mark is also very expressive: it supports $\neq$, $O$ and $Q$ but not $\equiv$ (large marks will pop up).
The \emph{value}, i.e.\ the grey level independently of the hue, is also $\neq$ and $O$ but not $\equiv$ and not $Q$ (darker grey will pop up on a white background and we can not quantify how much darker or lighter is a grey from another grey).
The \emph{texture} (the scale of a given pattern used to fill a mark) is $\equiv$, $neq$ and $O$, but not $Q$.
The \emph{color}, i.e.\ the hue independently of the grey level, is both $\equiv$ and $\neq$, but can not be used for $O$ and $Q$.
The \emph{orientation} can be used for $\equiv$ and, to a certain extend, for $\neq$, provided the shape of the mark does not present too much symmetries.
Finally, the \emph{shape} of the mark can be used only for $\equiv$ if the various shapes are carefully chosen.


\section{Properties}
Condorcet, monotonicity, scores
\section{How to represent ranks}
\section{How to represent scores}
\section{Pairwize and comparison}
\section{STV}

\bibliography{Visu,manual}

\end{document}

